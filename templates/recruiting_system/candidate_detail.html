{% extends 'auth_freedom/base_recruiter.html' %}
{% load static %}

{% block title %}Профиль кандидата{% endblock %}

{% block extra_css %}
<style>
    .candidate-detail {
        background: white;
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin: 20px;
    }

    .candidate-header {
        margin-bottom: 30px;
    }

    .candidate-name {
        font-size: 1.8rem;
        color: #333;
        margin-bottom: 15px;
    }

    .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
    }

    .info-section {
        margin-bottom: 25px;
    }

    .section-title {
        font-size: 1.2rem;
        color: #333;
        margin-bottom: 15px;
        padding-bottom: 5px;
        border-bottom: 2px solid #4CAF50;
    }

    .info-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .info-list li {
        margin-bottom: 8px;
        color: #666;
    }

    .experience-card {
        background: #f8f9fa;
        border-radius: 4px;
        padding: 15px;
        margin-bottom: 15px;
    }

    .experience-title {
        font-size: 1.1rem;
        color: #333;
        margin-bottom: 5px;
    }

    .experience-date {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 10px;
    }

    .skills-list {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
    }

    .skill-tag {
        background: #e9ecef;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.9rem;
        color: #495057;
    }
</style>
{% endblock %}

{% block content %}
<div class="candidate-detail">
    <div class="candidate-header">
        <h1 class="candidate-name">{{ candidate.first_name }} {{ candidate.last_name }}</h1>
    </div>

    <div class="info-grid">
        <div class="info-section">
            <h2 class="section-title">Основная информация</h2>
            <ul class="info-list">
                <li><strong>Email:</strong> {{ candidate.email }}</li>
                <li><strong>Телефон:</strong> {{ candidate.phone }}</li>
                <li><strong>Специализация:</strong> {{ candidate.specialization }}</li>
                <li><strong>Опыт работы:</strong> {{ candidate.experience }} лет</li>
                <li><strong>Уровень:</strong> {{ candidate.get_level_display }}</li>
                <li><strong>Локация:</strong> {{ candidate.country }}, {{ candidate.region }}</li>
                <li><strong>Желаемая зарплата:</strong> {{ candidate.desired_salary }}</li>
                <li><strong>Статус поиска:</strong> {{ candidate.get_search_status_display }}</li>
                <li><strong>Готовность к переезду:</strong> {{ candidate.get_relocation_status_display }}</li>
            </ul>
        </div>

        <div class="info-section">
            <h2 class="section-title">Образование</h2>
            <ul class="info-list">
                <li><strong>Учебное заведение:</strong> {{ candidate.education.institution }}</li>
                <li><strong>Факультет:</strong> {{ candidate.education.faculty }}</li>
                <li><strong>Степень:</strong> {{ candidate.education.degree }}</li>
                <li><strong>Год окончания:</strong> {{ candidate.education.graduation_year }}</li>
            </ul>
        </div>
    </div>

    <div class="info-section">
        <h2 class="section-title">Навыки</h2>
        <div class="skills-list">
            {% for skill in candidate.hard_skills %}
            <span class="skill-tag">{{ skill }}</span>
            {% endfor %}
        </div>
    </div>

    <div class="info-section">
        <h2 class="section-title">Опыт работы</h2>
        {% if candidate.work_experience %}
            {% for exp in candidate.work_experience %}
            <div class="experience-card">
                <h3 class="experience-title">{{ exp.company }} - {{ exp.position }}</h3>
                <div class="experience-date">
                    {{ exp.start_date }} - {{ exp.end_date|default:"По настоящее время" }}
                </div>
                <p>{{ exp.description }}</p>
            </div>
            {% endfor %}
        {% else %}
            <p>Опыт работы не указан</p>
        {% endif %}
    </div>

    <div class="info-section">
        <h2 class="section-title">О себе</h2>
        <p>{{ candidate.about_me|linebreaks|default:"Информация не указана" }}</p>
    </div>
</div>
{% endblock %} 